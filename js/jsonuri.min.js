"use strict";function decodeUriParam(e){var r=e.split("=");return{key:decodeURIComponent(r[0]),value:decodeURIComponent(r[1])}}function mapJSONToUriParams(e,r,n,t){n="undefined"!=typeof n?n:"",t="undefined"!=typeof t?t:0,r="undefined"!=typeof r?r:!0;var o=[];if("[object Array]"===Object.prototype.toString.call(e))for(var a=0;a<e.length;a++)o.push(mapJSONToUriParams(e[a],r,n+"["+a+"]",t+1));else"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).map(function(a){var i="";""!==n&&"]"!==n.slice(-1)&&(i=":"),o.push(mapJSONToUriParams(e[a],r,n+i+a,t+1))}):o.push(n+"="+encodeURIComponent(e));if(0==t&&1==r)for(var i=0;i<o.length;i++)o[i]=encodeURIComponent(o[i]);return o.join("&")}function mapObjectKey(e,r,n){var t=e.indexOf(":"),o=e.indexOf("[");if(t>-1&&o>t||t>-1&&-1===o){var a=e.substr(0,t),i=e.substr(t+1);if(a in n||(n[a]={}),""!==i)return mapObjectKey(i,r,n[a]);n[a]=r}else if(o>-1&&t>o||o>-1&&-1===t){var a=e.substr(0,o),i=e.substr(e.indexOf("]")+1);a in n||(n[a]=[]);var f=parseInt(e.substr(o+1,e.indexOf("]")-1));if(f in n[a]||(n[a][f]={}),""!==i)return mapObjectKey(i,r,n[a][f]);n[a][f]=r}else n[e]=r}function mapUriParamsToJSON(e,r,n){if(n="undefined"!=typeof n?n:0,r="undefined"!=typeof r?r:{},0===n){e=decodeURIComponent(e).split("&");for(var t in e)e[t]=decodeURI(e[t]);for(var o=0;o<e.length;o++)mapUriParamsToJSON(e[o],r,n+1)}else{var a=decodeUriParam(e);mapObjectKey(a.key,a.value,r)}return r}